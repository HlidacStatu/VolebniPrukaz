<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <title>Rychlá žádost o voličský průkaz</title>

    <link rel="canonical" href="https://volby.hlidacstatu.cz/" />
    <meta name="description" content="Nemůžete volit v místě svého bydliště? Požádejte si o voličský průkaz hned teď. Stačí Vám adresa a datum narození." />
    <link rel="shortcut icon" href="assets/images/favicon.ico" type="image/x-icon" />

    <!-- open graph specification if anyone shares -->
    <meta property="og:title" content="Rychlá žádost o voličský průkaz" />
    <meta property="og:description" content="Nemůžete volit v místě svého bydliště? Požádejte si o voličský průkaz hned teď. Stačí Vám adresa a datum narození." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://volby.hlidacstatu.cz/" />
    <meta property="og:image" content="https://volby.hlidacstatu.cz/assets/images/EP2019-sharing-banner.jpg" />
    <meta property="fb:app_id" content="803455203348459" />

    <meta name="twitter:site" content="Voličské Průkazy" />
    <meta name="twitter:url" content="https://volby.hlidacstatu.cz/" />
    <meta name="twitter:title" content="Rychlá žádost o voličský průkaz" />
    <meta name="twitter:description" content="Nemůžete volit v místě svého bydliště? Požádejte si o voličský průkaz hned teď. Stačí Vám adresa a datum narození." />
    <meta name="twitter:image" content="https://volby.hlidacstatu.cz/assets/images/EP2019-sharing-banner.jpg" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.6.5/core.min.js" integrity="sha256-mmU2yAEP5IKCRWRxZEA+e2oGOdfyJGQV+55ZFTLahW8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700&amp;subset=latin-ext" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="assets/site.css" rel="stylesheet">
    <link href="assets/globalsite.css" rel="stylesheet">
    <link href="assets/social-share-kit.css" rel="stylesheet">
    <link href="assets/hlidac.css" rel="stylesheet">
    <script src="assets/vuejs-datepicker-patched.min.js"></script>
    <script src="assets/vuejs-auto-complete-0.10.0-min.js"></script>
    <script src="assets/lang-cs.js"></script>
    <script src="assets/citycouncils_alt.min.js"></script>  <!-- city councils (alternate, new version) -->
    <script src="assets/cityzipname.min.js"></script>   <!-- cities with zip for zip lookup -->
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js" identity="sha384-QliZbpszoo4jiVyo529dYiKgGQySM0I/kSJcvQcVkMXCqiIoEfRQLsvUwVNLcOqP" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.8/dist/vue.min.js" integrity="sha384-tJs0vlPyuG7XcysSkZ0VtWsM/uztJkUtpLwb6HzV5NSgSwGqdW61IBOBJDhbUf+K" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-router@3.0.2/dist/vue-router.min.js" integrity="sha384-EnzMJi5PirMz1dgUr9a4DUHwg7e71+fxk3jLLfJn1vljGydxX8c6bdDYdPDE8224" crossorigin="anonymous"></script>    
    <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.min.js" integrity="sha384-Ho2Qx5q7Y92BZSxEZtDh2+hUqcudf/uXp77PK0XXawmB+tmreY4nUttlKWXnUWtn" crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-154075-24"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-154075-24');
    </script>
</head>

<body class="new-body">
    <div id="fb-root"></div>
    <script>
            (function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = "//connect.facebook.net/cs_CZ/sdk.js#xfbml=1&version=v2.9";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));</script>

    <div class="header__navbar">
        <a href="/" class="logo">
            <svg width="46" height="46" viewBox="0 0 46 46">
                <use xlink:href="assets/images/defs.svg#logo"></use>
            </svg>
            Hlídač <strong>Státu</strong>
        </a>
        <nav class="navbar__level1">
            <a href="#" class="hamburger"></a>

            <ul>
                <li class="navbar__watchers">
                    <span class="watcher">Hlídače:</span>
                    <a href="https://www.hlidacstatu.cz/smlouvy">Smluv</a>
                    <a href="https://www.hlidacstatu.cz/osoby">Osob</a>
                    <a href="https://www.hlidacstatu.cz/ucty">Financí</a>
                    <a href="https://www.hlidacstatu.cz/VerejneZakazky">Veřejných zakázek</a>
                    <a href="https://www.hlidacstatu.cz/StatniWeby">Webů</a>
                </li>

                <li class="hidden-sm hidden-xs">
                        <a href="https://www.hlidacstatu.cz/account/Login?returnUrl=%2F" id="loginLink">
                            <img src="assets/images/icon-user.svg" style="padding-right: 8px;">
                            Přihlášení
                        </a>
                        <a href="https://www.hlidacstatu.cz/account/Register?nextUrl=%2F" id="regLink">Registrace</a>
                </li>

                <!-- mobile menu items below -->
                <li class="level2"><a href="https://www.hlidacstatu.cz/data">Datové sady</a></li>
                <li class="level2"><a href="https://www.hlidacstatu.cz/reporty">Analýzy a reporty</a></li>
                <li class="level2"><a href="https://www.hlidacstatu.cz/texty">Komentáře</a></li>
                <li class="level2"><a href="https://platforma.hlidacstatu.cz">Fórum</a></li>

                <li class="level2">
                    <a href="https://www.darujme.cz/projekt/1200384">Podpořte nás</a>
                    <a href="https://www.hlidacstatu.cz/PridatSe">Přidejte se k nám</a>
                </li>


                <li class="level2">
                        <a href="https://www.hlidacstatu.cz/Account/Login">Přihlášení</a>
                        <a href="https://www.hlidacstatu.cz/account/Register">Registrace</a>
                </li>
            </ul>
        </nav>
    </div>

    <div id="app">

        <div class="header__content">
            <!-- desktop menu items only -->
            <div class="navbar__level2">
                <ul>
                    <li class=""><a href="https://www.hlidacstatu.cz/data">Datové sady</a></li>
                    <li class=""><a href="https://www.hlidacstatu.cz/reporty">Analýzy a reporty</a></li>
                    <li class=""><a href="https://www.hlidacstatu.cz/texty">Komentáře</a></li>
                    <li class=""><a href="https://platforma.hlidacstatu.cz/">Fórum</a></li>
                </ul>
                <ul>
                    <li>
                        <a href="https://www.hlidacstatu.cz/pridatse">Přidat se</a>

                        <a href="https://www.darujme.cz/projekt/1200384">Podpořit nás</a>
                    </li>
                </ul>
            </div>
            <div class="header__title">
                <h1>Volby do Evropského parlamentu 2019</h1>
                <p>
                    <span>Volby do Evropského parlamentu se uskuteční <strong>24.&nbsp;5.&nbsp;2019 (od 14:00 do 22:00)</strong> a <strong>25&nbsp;.5.&nbsp;2019 (od 8:00 do 14:00)</strong></span>
                </p>
                <p>
                    <span>Nejste rozhodnuti koho volit? Můžete vyzkoušet naši <a class="link" href="https://volebnikalkulacka.cz/" title="Volební kalkulačka" target="_blank">Volební kalkulačku</a>.</span>
                </p>
            </div>
            <!-- desktop menu items only -->
            <div id="navigation" class="row">
                <ul>
                    <li class="col-xs-12 col-md-4" :class="$route.path=='/cr-cr' ? 'active': ''">
                        <router-link to="/cr-cr#cr-cr">Jsem občanem ČR<br class="visible-xs-block"> a chci volit v ČR</router-link>
                    </li>
                    <li class="col-xs-12 col-md-4" :class="$route.path=='/cr-eu' ? 'active': ''">
                        <router-link to="/cr-eu#cr-eu">Jsem občanem ČR<br class="visible-xs-block"> a chci volit v EU</router-link>
                    </li>
                    <li class="col-xs-12 col-md-4" :class="$route.path=='/eu-cr' ? 'active': ''">
                        <router-link to="/eu-cr#eu-cr" role="tab">I am EU citizen<br class="visible-xs-block"> and want to vote in CR</router-link>
                    </li>
                </ul>
            </div>
        </div>

        <div class="body container">
            <div id="cr-cr" class="pane" v-if="$route.path=='/cr-cr'">
                <h2>Chci volit v místě svého trvalého bydliště</h2>
                <p class="new-p">
                    Nic vám nebrání v cestě. Dostavte se s platným průkazem totožnosti (občanský průkaz, cestovní, diplomatický nebo služební pas České republiky) v den voleb do volební místnosti ve vašem volebním obvodu (dle trvalého bydliště).
                </p>
                <h2>Chci volit v kterémkoliv volebním obvodě v ČR</h2>
                <p class="new-p">
                    Pokud chcete volit mimo své trvalé bydliště, potřebujete tzv. voličský průkaz. O voličský průkaz můžete zažádat na svém obecním úřadu a to buď:</p>
                <ul class="new-p">
                    <li><strong class="emphasized">osobně</strong><span> – dostavte se přímo na úřad s platným dokladem totožnosti nejpozději 22. 5. 2019,</span></li>
                    <li><strong class="emphasized">písemně</strong><span> – žádost musíte úřadu doručit do 17. 5. 2019 v 16:00 pomocí vaší datové schránky nebo poštou s úředně ověřeným podpisem.</span></li>
                </ul>
                <router-link tag="button" to="/form#form" class="btn btn-primary btn-primary-new">Vytvořit písemnou žádost o voličský průkaz</router-link>
            </div>

            <div id="cr-eu" class="pane" v-if="$route.path=='/cr-eu'">
                <h2>Chci volit české kandidáty</h2>

                <p class="new-p">Pro české kandidáty nelze hlasovat ze zahraničí.</p>
                <p class="new-p">Ze zahraničí může občan, který žije dlouhodobě mimo ČR, zastupitelský úřad požádat o zápis do zvláštního seznamu voličů a následně se na něj obrátit s žádostí o vydání voličského průkazu. S tímto průkazem pak může volit v den voleb ve kterékoliv volební místosti na území ČR. O voličský průkaz můžete zažádat na svém zastupitelském úřadě a to buď:</p>
                <ul class="new-p">
                    <li><strong class="emphasized">osobně</strong><span> – dostavte se přímo na úřad s platným dokladem totožnosti nejpozději 22. května 2019,</span></li>
                    <li><strong class="emphasized">písemně</strong><span> – žádost musíte doručit do 17. 5. 2019 v 16:00 pomocí vaší datové schránky nebo poštou s úředně ověřeným podpisem.</span></li>
                </ul>

                <p class="new-p">
                    <router-link tag="button" to="/form#form" class="btn btn-primary btn-primary-new">Vytvořit písemnou žádost o voličský průkaz</router-link>
                </p>

                <h2>Chci volit kandidáty z jiné členské země EU</h2>
                <p class="new-p">Hlasování probíhá na území daného členského státu EU a řídí se pravidly daného členského státu EU.</p>
            </div>

            <div id="eu-cr" class="pane" v-if="$route.path=='/eu-cr'">
                <h2>I want to vote for Czech candidates</h2>

                <p class="new-p">You are eligible if you were registered with temporary or permanent residence in the Czech Republic at least 45 days before the election and were on the European Parliament electoral roll.</p>

                <ul class="new-p">
                    <li><span>If you have already voted in a previous EP election and were registered on the EP electoral roll, you may vote in the election again.</span></li>
                    <li><span>If you are already on the municipal electoral roll, you may apply to have your details transferred to the EP electoral roll no later than 40 days before the election (i.e. before 16:00 on 14th April 2019). <a class="link--blue" href="https://www.mvcr.cz/mvcren/file/application-to-transfer-data-from-the-appendix-to-the-permanent-list-of-voters-to-the-list-of-voters-for-the-european-parliament-elections-in-the-czech-republic-pdf.aspx">The application</a> must be made in person.</span></li>
                    <li><span>If you have not yet voted in the EP election, you must apply at the local authority to register on the electoral roll no later than 40 days before the election (i.e. before 16:00 on 14th April 2019). <a class="link--blue" href="https://www.mvcr.cz/mvcren/file/application-for-entry-onto-the-list-of-voters-for-the-european-parliament-elections-in-the-czech-republic-pdf.aspx">The application</a> must be made in person.</span></li>
                </ul>

                <h3>I want to vote where I have permanent residence in CZ</h3>
                <p class="new-p">If you meet the above criteria, nothing stands in your way. Take your valid ID on election day to your polling place (according to your permanent address).</p>

                <h3>I want to vote somewhere else in CZ</h3>
                <p class="new-p">If you want to vote somewhere other than your permanent address, you will need a voter card. You can apply for a voter card at your municipal office, either:</p>
                <ul class="new-p">
                    <li><strong class="emphasized">in person</strong><span> – directly at the office with valid ID no later than 22 May 2019,</span></li>
                    <li><strong class="emphasized">in writing</strong><span> – through your data box or by post with a certified signature. Your application must arrive by 17 May 2019 at 16:00.</span></li>
                </ul>

                <p class="new-p">
                    <router-link tag="button" to="/en/form#en-form" class="btn btn-primary btn-primary-new">Create a written application for voter card</router-link>
                </p>
                <h2>I want to vote for candidates from another EU country</h2>
                <p class="new-p">Voting takes place in the territory of the EU Member State and follows the rules of the EU Member State.</p>

            </div>

            <div id="form" class="form pane table" v-if="$route.path=='/form'">
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/lock.png" width="41" height="50" />
                    </div>
                    <h2>Soukromí</h2>
                    <div class="right">
                        <p class="new-p">
                            Vámi vyplněné osobní údaje nikomu neodesíláme, ani je dále nezpracováváme.
                            Nemusíte se ničeho bát – celá žádost vzniká pouze na vašem počítači.
                            Pokud chcete mít 100% jistotu, můžete se při vytváření žádosti odpojit od internetu
                            nebo si stáhněte a vyplňte <a href="assets/files/Zadost-Volicsky-Prukaz-EU2019-CR.pdf">šablonu žádosti</a> ručně sami.
                        </p>
                        <p class="new-p">
                            Pokud se můžete na váš obecní úřad dostavit osobně, nepotřebujete předem žádnou písemnou žádost vytvářet.
                            Stačí, pokud se dostavíte na úřad s platným dokladem totožnosti.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/id-card.png" width="50" height="38" class="idcard" />
                    </div>
                    <h2>Moje identita</h2>
                    <div class="right">
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.fullName)">
                                <label for="name">Jméno a příjmení</label>
                                <input id="name" v-model="userData.fullName.value" class="form-control" type="text" @change="validate('fullName',userData.fullName)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.fullName)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-5 has-feedback" :class="validateBorder(userData.birthdate)">
                                <label for="bday">Datum narození</label>
                                <vuejs-datepicker id="bday" v-model="userData.birthdate.value" input-class="form-control"  :typeable="true" :initial-view="'year'" :monday-first="true" :open-date="new Date('1991-01-01')" :language="cs" :format="csDateFormat" :parse="csDateParse" @selected="birthdateSelected"  @change="validate('bday',userData.birthdate)"></vuejs-datepicker>
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.birthdate)" aria-hidden="true"></span>
                            </div>
                            <div class="col-xs-12 col-sm-5 has-feedback" :class="validateBorder(userData.phone)">
                                <label for="tel">Telefon</label>
                                <label for="tel" class="optional">(nepovinný)</label>
                                <input id="tel" v-model="userData.phone.value" class="form-control" type="tel" @change="validate('tel',userData.phone)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.phone)" aria-hidden="true"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/home.png" width="50" height="40" />
                    </div>
                    <h2>Moje adresa trvalého pobytu</h2>
                    <div class="right">
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.addressLine1)">
                                <label for="address-line1">Ulice a číslo popisné</label>
                                <input id="address-line1" v-model="userData.addressLine1.value" class="form-control" type="text" @change="validate('line1',userData.addressLine1)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.addressLine1)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-3 has-feedback">
                                <label for="postal-code">PSČ</label>
                                <autocomplete :source="citiesZipName" :input-class="'form-control'" :show-no-results="false" :allow-Only-Values-From-Source="true"
                                    placeholder="" results-display="zip_name" results-value="zip" results-display-after-item-selected="zip"
                                    search-from-beginning="true"  min-legth-for-search-begin="0"
                                    max-result-items="15" more-results-exists-text="(...upřesněte zadání...)" ref="autocompleteZIP"
                                    @selected="zipSelected" @clear="zipCleared">
                                </autocomplete>
                            </div>
                            <div class="col-xs-12 col-sm-7 has-feedback" :class="validateBorder(userData.city)">
                                <label for="locality">Obec</label>
                                <input id="locality" v-model="userData.city.value" class="form-control" type="text" @change="validate('locality',userData.city)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.city)" aria-hidden="true"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/office.png" width="39" height="50" />
                    </div>
                    <h2>Můj obecní úřad</h2>
                    <div class="right">
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.municipality.name)">
                                <label for="office-name">Název úřadu</label>
                                <input id="office-name" v-model="userData.municipality.name.value" class="form-control" type="text" autocomplete="off" @change="validate('officeName',userData.municipality.name)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.name)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.municipality.addressLine1)">
                                <label for="office-street">Ulice a číslo popisné</label>
                                <input id="office-street" v-model="userData.municipality.addressLine1.value" class="form-control" type="text" autocomplete="off" @change="validate('line1',userData.municipality.addressLine1)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.addressLine1)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-3 has-feedback" :class="validateBorder(userData.municipality.postalCode)">
                                <label for="office-zip">PSČ</label>
                                <input id="office-zip" v-model="userData.municipality.postalCode.value" class="form-control" type="text" autocomplete="off" @change="validate('postalCode',userData.municipality.postalCode)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.postalCode)" aria-hidden="true"></span>
                            </div>
                            <div class="col-xs-12 col-sm-7 has-feedback" :class="validateBorder(userData.municipality.city)">
                                <label for="office-city">Obec</label>
                                <input id="office-city" v-model="userData.municipality.city.value" class="form-control" type="text" autocomplete="off" @change="validate('locality',userData.municipality.city)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.city)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-10">Nelekněte se, PSČ adresy vašeho obecního úřadu se může lišit od PSČ adresy vašeho trvalého bydliště.</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                        <div class="left">
                            <img src="assets/images/envelope.png" width="50" height="39" />
                        </div>
                        <h2>Doručení</h2>
                        <div class="right">
                            <div class="radios">
                                <h4>Voličský průkaz po vyhotovení:</h4>
                                <div class="button-group">
                                    <input type="radio" name="delivery" v-model="userData.delivery.value" value="in-person" id="in-person" @change="validate('delivery',userData.delivery)"> <label for="in-person">převezmu osobně</label><br>
                                    <input type="radio" name="delivery" v-model="userData.delivery.value" value="representative" id="representative" @change="validate('delivery',userData.delivery)"> <label for="representative">převezme osoba, která se prokáže plnou mocí s mým úředně ověřeným podpisem</label><br>
                                    <input type="radio" name="delivery" v-model="userData.delivery.value" value="my-address" id="my-address" @change="validate('delivery',userData.delivery)"> <label for="my-address">žádám zaslat na adresu mého trvalého pobytu</label><br>
                                    <input type="radio" name="delivery" v-model="userData.delivery.value" value="other-address" id="other-address" @change="validate('delivery',userData.delivery)"> <label for="other-address">žádám zaslat na jinou adresu</label>
                                </div>
                                <div v-if="!userData.delivery.valid" class="has-error has-feedback">
                                    <p class="form-control ">Zvolte způsob doručení</p>
                                    <span aria-hidden="true" class="glyphicon form-control-feedback glyphicon-remove"></span>
                                </div>
                                <div v-if="userData.delivery.value=='other-address'">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.deliveryAddress.fullName)">
                                            <label for="delivery-address-name">Jméno</label>
                                            <input id="delivery-address-name" v-model="userData.deliveryAddress.fullName.value" class="form-control" type="text" @change="validate('fullName',userData.deliveryAddress.fullName)">
                                            <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.fullName)" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-10">
                                            <label for="delivery-address-line0">Upřesnění adresy</label>
                                            <label for="delivery-address-line0" class="optional">(nepovinné, např firma nebo číslo bytu)</label>
                                            <input id="delivery-address-line0" v-model="userData.deliveryAddress.addressLine0.value" class="form-control" type="text">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.deliveryAddress.addressLine1)">
                                            <label for="delivery-address-line1">Ulice a číslo popisné</label>
                                            <input id="delivery-address-line1" v-model="userData.deliveryAddress.addressLine1.value" class="form-control" type="text" @change="validate('line1',userData.deliveryAddress.addressLine1)">
                                            <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.addressLine1)" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-3 has-feedback" :class="validateBorder(userData.deliveryAddress.postalCode)">
                                            <label for="delivery-address-postal-code">PSČ</label>
                                            <input id="delivery-address-postal-code" v-model="userData.deliveryAddress.postalCode.value" class="form-control" type="text" @change="validate('postalCode',userData.deliveryAddress.postalCode)">
                                            <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.postalCode)" aria-hidden="true"></span>
                                        </div>
                                        <div class="col-xs-12 col-sm-7 has-feedback" :class="validateBorder(userData.deliveryAddress.city)">
                                            <label for="delivery-address-city">Obec</label>
                                            <input id="delivery-address-city" v-model="userData.deliveryAddress.city.value" class="form-control" type="text" @change="validate('locality',userData.deliveryAddress.city)">
                                            <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.city)" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-10">
                                            <label for="delivery-address-country" class="optional">Stát</label>
                                            <input id="delivery-address-country" v-model="userData.deliveryAddress.country.value" class="form-control" type="text">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-10">
                                            V případě, že chcete doručit průkaz mimo Českou republiku, raději se u vašeho úřadu ujistěte, zda vám průkaz dokážou včas doručit.
                                        </div>
                                    </div>
                                </div>                                
                            </div>
                            <div class="row">
                                <div class="col-xs-12 col-sm-10">
                                    <strong>Důležité upozornění</strong>: Obecní úřad nebo zastupitelský úřad může voličský průkaz vydat <strong>nejdříve</strong> 15 dnů před prvním dnem konání voleb.
                                </div>
                            </div>
                            
                            <!--<div v-if="errors.length" class="error-list has-feedback has-error">
                                <span v-for="error in errors">{{ error }}<br></span>
                                <span aria-hidden="true" class="glyphicon form-control-feedback glyphicon-remove"></span>
                             </div>-->
                        </div>
                </div>
                <div class="right row">
                    <span @click.capture="validateForm">
                        <router-link tag="button" to="/preview#preview" class="btn btn-primary btn-primary-new col-xs-12 col-sm-4">Vytvořit žádost</router-link>
                    </span>
                    <button class="btn btn-default col-xs-12 col-sm-4" v-on:click="clearForm('Opravdu si přejete smazat obsah formuláře?', false)">Smazat údaje</button>
                </div>
            </div>

            <div id="en-form" class="form pane table" v-if="$route.path=='/en/form'">
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/lock.png" width="41" height="50" />
                    </div>
                    <h2>Privacy</h2>
                    <div class="right">
                        <p class="new-p">
                            We will not send your details to anyone, nor do we process them.<br>
                            No need to worry - the whole application is made only on your own computer.<br>
                            If you want to be 100% sure, disconnect from the internet while you complete the application<br>
                            or <a href="assets/files/Zadost-Volicsky-Prukaz-EU2019-CR.pdf">download the application</a> and complete it manually.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/id-card.png" width="50" height="38" class="idcard" />
                    </div>
                    <h2>My identity</h2>
                    <div class="right">
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.fullName)">
                                <label for="name">Full name</label>
                                <input id="name" v-model="userData.fullName.value" class="form-control" type="text" @change="validate('fullName',userData.fullName)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.fullName)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-5 has-feedback" :class="validateBorder(userData.birthdate)">
                                <label for="bday">Date of birth</label>
                                <vuejs-datepicker id="bday" v-model="userData.birthdate.value" input-class="form-control"  :typeable="true" :initial-view="'year'" :monday-first="true" :open-date="new Date('1991-01-01')" :language="cs" :format="csDateFormat" :parse="csDateParse" @selected="birthdateSelected"  @change="validate('bday',userData.birthdate)"></vuejs-datepicker>
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.birthdate)" aria-hidden="true"></span>
                            </div>
                            <div class="col-xs-12 col-sm-5 has-feedback" :class="validateBorder(userData.phone)">
                                <label for="tel">Telephone</label>
                                <label for="tel" class="optional">(optional)</label>
                                <input id="tel" v-model="userData.phone.value" class="form-control" type="tel" @change="validate('tel',userData.phone)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.phone)" aria-hidden="true"></span>
                            </div>
                        </div>
                    </div>
                  </div>
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/home.png" width="50" height="40" />
                    </div>
                    <h2>My permanent address</h2>
                     <div class="right">
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.addressLine1)">
                                <label for="address-line1">Street and house number</label>
                                <input id="address-line1" v-model="userData.addressLine1.value" class="form-control" type="text" @change="validate('line1',userData.addressLine1)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.addressLine1)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-3 has-feedback">
                                <label for="postal-code">Postcode</label>
                                <autocomplete :source="citiesZipName" :input-class="'form-control'" :show-no-results="false" :allow-Only-Values-From-Source="true"
                                    placeholder="" results-display="zip_name" results-value="zip" results-display-after-item-selected="zip"
                                    search-from-beginning="true"  min-legth-for-search-begin="0"
                                    max-result-items="15" more-results-exists-text="(...upřesněte zadání...)" ref="autocompleteZIP"
                                    @selected="zipSelected" @clear="zipCleared">
                                </autocomplete>
                            </div>
                            <div class="col-xs-12 col-sm-7 has-feedback" :class="validateBorder(userData.city)">
                                <label for="locality">City</label>
                                <input id="locality" v-model="userData.city.value" class="form-control" type="text" @change="validate('locality',userData.city)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.city)" aria-hidden="true"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="left">
                        <img src="assets/images/office.png" width="39" height="50" />
                    </div>
                    <h2>My municipal office</h2>
                    <div class="right">
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.municipality.name)">
                                <label for="office-name">Office name</label>
                                <input id="office-name" v-model="userData.municipality.name.value" class="form-control" type="text" autocomplete="off" @change="validate('officeName',userData.municipality.name)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.name)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.municipality.addressLine1)">
                                <label for="office-street">Street and house number</label>
                                <input id="office-street" v-model="userData.municipality.addressLine1.value" class="form-control" type="text" autocomplete="off" @change="validate('line1',userData.municipality.addressLine1)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.addressLine1)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-3 has-feedback" :class="validateBorder(userData.municipality.postalCode)">
                                <label for="office-zip">Postcode</label>
                                <input id="office-zip" v-model="userData.municipality.postalCode.value" class="form-control" type="text" autocomplete="off" @change="validate('postalCode',userData.municipality.postalCode)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.postalCode)" aria-hidden="true"></span>
                            </div>
                            <div class="col-xs-12 col-sm-7 has-feedback" :class="validateBorder(userData.municipality.city)">
                                <label for="office-city">City</label>
                                <input id="office-city" v-model="userData.municipality.city.value" class="form-control" type="text" autocomplete="off" @change="validate('locality',userData.municipality.city)">
                                <span class="glyphicon form-control-feedback" :class="validateIcon(userData.municipality.city)" aria-hidden="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-10">Nelekněte se, PSČ adresy vašeho obecního úřadu se může lišit od PSČ adresy vašeho trvalého bydliště.</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                     <div class="left">
                          <img src="assets/images/envelope.png" width="50" height="39" />
                     </div>
                     <h2>Delivery</h2>
                     <div class="right">
                         <div class="radios">
                             <h4>When completed, the voter card will be:</h4>
                             <div class="button-group">
                                   <input type="radio" name="delivery" v-model="userData.delivery.value" value="in-person" id="in-person"> <label for="in-person">Collected by me personally</label><br>
                                   <input type="radio" name="delivery" v-model="userData.delivery.value" value="representative" id="representative"> <label for="representative">Collected by another person with Power of Attorney with my officially authenticated signature</label><br>
                                   <input type="radio" name="delivery" v-model="userData.delivery.value" value="my-address" id="my-address"> <label for="my-address">Sent to my permanent address</label><br>
                                   <input type="radio" name="delivery" v-model="userData.delivery.value" value="other-address" id="other-address"> <label for="other-address">Sent to another address</label>
                             </div>
                             <div v-if="userData.delivery.value=='other-address'">
                                 <div class="row">
                                     <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.deliveryAddress.fullName)">
                                         <label for="delivery-address-name">Name</label>
                                         <input id="delivery-address-name" v-model="userData.deliveryAddress.fullName.value" class="form-control" type="text" @change="validate('fullName',userData.deliveryAddress.fullName)">
                                         <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.fullName)" aria-hidden="true"></span>
                                     </div>
                                 </div>
                                 <div class="row">
                                     <div class="col-xs-12 col-sm-10">
                                         <label for="delivery-address-line0">Address details</label>
                                         <label for="delivery-address-line0" class="optional">(optional, e.g. company name or flat number)</label>
                                         <input id="delivery-address-line0" v-model="userData.deliveryAddress.addressLine0.value" class="form-control" type="text">
                                     </div>
                                 </div>
                                 <div class="row">
                                     <div class="col-xs-12 col-sm-10 has-feedback" :class="validateBorder(userData.deliveryAddress.addressLine1)">
                                         <label for="delivery-address-line1">Street and house number</label>
                                         <input id="delivery-address-line1" v-model="userData.deliveryAddress.addressLine1.value" class="form-control" type="text" @change="validate('line1',userData.deliveryAddress.addressLine1)">
                                         <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.addressLine1)" aria-hidden="true"></span>
                                     </div>
                                 </div>
                                 <div class="row">
                                     <div class="col-xs-12 col-sm-3 has-feedback" :class="validateBorder(userData.deliveryAddress.postalCode)">
                                         <label for="delivery-address-postal-code">Postcode</label>
                                         <input id="delivery-address-postal-code" v-model="userData.deliveryAddress.postalCode.value" class="form-control" type="text" @change="validate('postalCode',userData.deliveryAddress.postalCode)">
                                         <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.postalCode)" aria-hidden="true"></span>
                                     </div>
                                     <div class="col-xs-12 col-sm-7 has-feedback" :class="validateBorder(userData.deliveryAddress.city)">
                                         <label for="delivery-address-city">City</label>
                                         <input id="delivery-address-city" v-model="userData.deliveryAddress.city.value" class="form-control" type="text" @change="validate('locality',userData.deliveryAddress.city)">
                                         <span class="glyphicon form-control-feedback" :class="validateIcon(userData.deliveryAddress.city)" aria-hidden="true"></span>
                                     </div>
                                 </div>
                                 <div class="row">
                                     <div class="col-xs-12 col-sm-10">
                                         <label for="delivery-address-country" class="optional">Country</label>
                                         <input id="delivery-address-country" v-model="userData.deliveryAddress.country.value" class="form-control" type="text">
                                     </div>
                                 </div>
                                     <div class="row">
                                         <div class="col-xs-12 col-sm-10">
                                             In case you want to deliver a card outside the Czech Republic, please make sure that the card is delivered in time to the appropriate authority.
                                         </div>
                                     </div>                                        
                             </div>
                             <div class="row">
                                 <div class="col-xs-12 col-sm-10">
                                     <strong>Important warning</strong>: the voter card can be issued (and therefore received) <strong>15 days before</strong> the first election day at the earliest.
                                 </div>
                             </div>
                          </div>
                      </div>
                </div>
                <div class="right row">
                    <span @click.capture="validateForm">
                        <router-link tag="button" to="/en/preview#en-preview" class="btn btn-primary btn-primary-new col-xs-12 col-sm-4">Create application</router-link>
                    </span>
                    <button class="btn btn-default col-xs-12 col-sm-4" v-on:click="clearForm('Do you really want to reset form?', false)">Reset form</button>
                </div>
            </div>

            <transition v-on:after-enter="generatePreview">
                <div id="preview" class="pane" v-if="$route.path=='/preview'">
                    <h2>1. Zkontrolujte žádost</h2>
                    <div class="preview-wrapper col-xs-12 col-sm-5" @click="showOverlay"><img></div>                    
                    <div class="left col-xs-12 col-sm-6">
                        <p>Prosíme, zkontrolujte si údaje v náhledu vygenerované žádosti.<br>
                        (v případě, že se vám náhled nezobrazuje, proveďte kontrolu po jejím stažení)</p>
                        <p>Pokud jsou všechny údaje v pořádku, žádost si stáhněte do vašeho zařízení a pročtěte si následující sekci s informacemi o možnostech jejího způsobu doručení.</p>
                        <p>Pokud není některá z vyplněných informací správná, nic se neděje. Údaje můžete snadno změnit.</p>
                        <div class="preview-buttons row clearfix">
                            <button class="btn btn-primary btn-primary-new pull-left col-xs-12 col-sm-5" v-on:click="downloadPdf">Stáhnout <br class="visible-sm-block">žádost</button>
                            <router-link tag="button" to="/form" class="btn btn-default pull-right col-xs-12 col-sm-5">Změnit <br class="visible-sm-block">údaje</router-link>
                        </div>
                    </div>
                    
                    <h2>2. Doručte žádost na váš úřad</h2>
                    <div>
                        <div class="col-md-4">
                            <h3>Pomocí datové schránky</h3>
                            <p>Pokud máte datovou schránku, stačí odeslat vytvořenou žádost jako přílohu ve formátu PDF do datové schránky vašeho obecního úřadu:</p>
                            <p><strong>{{userData.municipality.databox.value}}</strong></p>
                            <p>Žádost nemusí být podepsaná (nebo opatřena elektronickým podpisem) a tím pádem nemusíte podpis ani ověřovat – vaše identita je ověřena přihlášením do datové schránky.</p>
                            <p>Žádost odešlete nejpozději do 17. 5. 2019 v 16:00 hodin.</p>
                        </div>
                        <div class="col-md-4">
                            <h3>Poštou</h3>
                            <p>Vytvořenou žádost vytiskněte, opatřete ji úředně ověřeným podpisem (na libovolném obecním úřadu, u notáře apod.) odešlete na adresu vašeho úřadu.</p>
                            <p>
                                <strong>
                                    {{userData.municipality.name.value || ''}}<br>
                                    {{userData.municipality.addressLine1.value || ''}}<br>
                                    {{userData.municipality.postalCode.value || '' +' '}} {{userData.municipality.city.value || ''}}
                                </strong>
                            </p>
                            <p>Žádost musí být doručena (doručena, nikoliv odeslána) do 17. 5. 2019 v 16:00 hodin.</p>
                        </div>
                        <div class="col-md-4">
                            <h3>Osobně</h3>
                            <p>Dostavte se na váš obecní úřad s platným dokladem totožnosti.</p>
                            <p>
                                <strong>
                                    {{userData.municipality.name.value || ''}}<br>
                                    {{userData.municipality.addressLine1.value || '' }}<br>
                                    {{userData.municipality.postalCode.value || '' +' '}} {{userData.municipality.city.value || '' }}
                                </strong>
                            </p>
                            <p>Na úřad můžete přijít podat žádost nejpozději 22. 5. 2019 do 16:00 hodin. Raději si ale předem zkontrolujte úřední hodiny!</p>
                        </div>
                    </div>
                    <h2>3. Přejeme dobrou volbu!</h2>
                    <div class="col-md-8">
                        <p>
                            Dostavte se s vaším volebním průkazem a platným průkazem totožnosti  24. 5. 2019 (14:00 - 22:00) nebo 25. 5. 2019 (8:00 - 14:00) do <u>kterékoliv volební místnosti v ČR</u>.
                        </p>
                        <p>
                            <strong>Upozornění:</strong> pokud máte vystaven volební průkaz a chcete volit ve volební místnosti vašeho volebního okrsku, musíte mít volební průkaz také sebou. Bez něj vám volba nebude umožněna!
                        </p>
                    </div>
                </div>
            </transition>

            <transition v-on:after-enter="generatePreview">
                <div id="en-preview" class="pane" v-if="$route.path=='/en/preview'">
                    <h2>1. Review the application</h2>
                    <div class="preview-wrapper col-xs-12 col-sm-5" @click="showOverlay"><img></div>
                    <div class="left col-xs-12 col-sm-6">
                        <p>Please check the details generated by the application.</p>
                        <p>If your details are correct, download the application to your computer or mobile device and continue to select the delivery of your voting card in the next section.</p>
                        <p>If some details are incorrect, nothing happens. You can easily change the details.</p>
                        <p>If you don’t see a preview of your application, don’t worry. You can review your application directly from your computer.</p>
                        <div class="preview-buttons row clearfix">
                            <button class="btn btn-primary btn-primary-new pull-left col-xs-12 col-sm-5" v-on:click="downloadPdf">Download <br class="visible-sm-block">application</button>
                            <router-link tag="button" to="/en/form" class="btn btn-default pull-right col-xs-12 col-sm-5">Change <br class="visible-sm-block">details</router-link>
                        </div>
                    </div>
                    <h2>2. Deliver the application to your office</h2>
                    <div>
                        <div class="col-md-4">
                            <h3>Via data box</h3>
                            <p>If you have a data box, it’s enough to send your completed application as a PDF attachment to the address of the appropriate office:</p>
                            <p><strong>{{userData.municipality.databox.value || ''}}</strong></p>
                            <p>Your application does not need to be signed so you do not need to sign or verify your signature - your identity is verified by logging in to your data box.</p>
                            <p>Send your application no later than 16:00 on 17th May 2019.</p>
                        </div>
                        <div class="col-md-4">
                            <h3>Via post</h3>
                            <p>Print your completed application and send it with a verified signature to the address of your office:</p>
                            <p>
                                <strong>
                                    {{userData.municipality.name.value || ''}}<br>
                                    {{userData.municipality.addressLine1.value || ''}}<br>
                                    {{(userData.municipality.postalCode.value || '') +' '}} {{userData.municipality.city.value || ''}}
                                </strong>
                            </p>
                            <p>Your application must be delivered (received, not only sent) by 16:00 on 17th May 2019.</p>
                        </div>
                        <div class="col-md-4">
                            <h3>In person</h3>
                            <p>If you can go to your office personally, you don’t need to make an appointment. You only need to go to the appropriate office with your proof of identity (I.D. card or passport).</p>
                            <p>
                                <strong>
                                    {{userData.municipality.name.value || ''}}<br>
                                    {{userData.municipality.addressLine1.value || ''}}<br>
                                    {{(userData.municipality.postalCode.value || '') +' '}} {{userData.municipality.city.value || ''}}
                                </strong>
                            </p>
                            <p>You can go to the office no later than 16:00 on 22nd May 2019.</p>
                        </div>
                    </div>
                    <h2>3. We wish you good voting!</h2>
                    <div class="col-md-8">
                        <p>
                            Come on 24th (14:00 - 22:00) or 25th (14:00 - 22:00) May 2019 with your voting card and proof of identity to <u>any polling station in CZ</u>.
                        </p>
                        <p>
                            Meanwhile, you can spread the word of the possibility to apply for your voting card to your family, friends, colleagues etc.
                        </p>
                    </div>
                </div>
            </transition>
        </div>
        <div id="overlay" v-show="overlayVisible" @click="showOverlay"><img></div>
        <div id="document-template">
            <div id="document-to-print-cr" class="pageA4">
                <div>
                        <div style="width: 380px; margin-left: 200px; padding: 15px 10px 15px 10px; margin-right: 10px; border-width: 1px; border-style: solid;">
                            <strong>Číslo voličského průkazu: </strong>
                        </div>
                </div>
                <p style="text-align: center; font-weight: bold; padding: 40px 5px 15px 5px;">
                    ŽÁDOST O VYDÁNÍ VOLIČSKÉHO PRŮKAZU<br>
                    pro hlasování ve volbách do Evropského parlamentu konaných ve dnech 24. a 25. 5. 2019
                </p>
                <p style="text-align: justify; padding: 15px 5px 20px 5px;">
                    Podle ustanovení § 30 zákona č. 62/2003 Sb., o volbách do Evropského parlamentu a o změně některých
                    zákonů, ve znění pozdějších předpisů (dále jen zákon o volbách do EP), žádám Obecní úřad&nbsp;
                        <strong>
                            <span v-if="userData.municipality.name.value">{{userData.municipality.name.value +', '}}</span>
                            <span v-if="userData.municipality.addressLine1.value">{{userData.municipality.addressLine1.value +', '}}</span>
                            <span v-if="userData.municipality.postalCode.value">{{userData.municipality.postalCode.value +' '}}</span>
                            <span v-if="userData.municipality.city.value">{{userData.municipality.city.value +' '}}</span>
                            <span v-if="!userData.municipality.name.value && !userData.municipality.addressLine1.value && !userData.municipality.postalCode.value && !userData.municipality.city.value">………………………………………………………………………………</span>
                        </strong>
                    o&nbsp;vydání voličského průkazu pro hlasování ve volbách do Evropského parlamentu konaných ve dnech <strong>24. a 25.
                    5. 2019</strong>, neboť nebudu moci volit ve volebním okrsku, v jehož seznamu voličů jsem zapsán(a).
                </p>
                <p style="padding: 10px 5px 10px 5px;">
                    <strong>Jméno a příjmení žadatele (voliče):</strong> {{userData.fullName.value}} <br>
                    <strong>Datum narození:</strong> {{userData.birthdate.value | dateCZ}} <br>
                    <strong>Trvalý pobyt:</strong> {{userData.addressLine1.value || ''}}<span v-if="userData.addressLine1.value">, </span>{{(userData.postalCode.value || '') +' '}}{{userData.city.value || ''}}<br>
                    <strong>Telefonní kontakt:</strong> {{userData.phone.value}} <br>
                </p>
                <p style="text-align: justify; padding: 10px 5px 10px 5px;">
                    <strong>Beru na vědomí, že</strong><br>
                    podle ustanovení § 30 odst. 3 zákona o volbách do EP mne voličský průkaz opravňuje ve dnech konání voleb
                    do Evropského parlamentu k hlasování v jakémkoli volebním okrsku na území České republiky.
                </p>
                <p style="padding: 10px 5px 10px 5px;">
                    <strong>K tomu sděluji, že voličský průkaz:</strong><br>
                    <input type="checkbox" name="pdf-delivery" id="pdf-in-person" style="margin-left: 5px;" v-bind:checked="userData.delivery.value=='in-person'">
                        <label for="pdf-in-person">převezmu osobně</label><br>
                    <input type="checkbox" name="pdf-delivery" id="pdf-representative" style="margin-left: 5px;" v-bind:checked="userData.delivery.value=='representative'">
                        <label for="pdf-representative">převezme osoba, která se prokáže plnou mocí s mým úředně ověřeným podpisem</label><br>
                    <input type="checkbox" name="pdf-delivery" id="pdf-my-address" style="margin-left: 5px;" v-bind:checked="userData.delivery.value=='my-address'">
                        <label for="pdf-my-address">žádám zaslat na adresu mého trvalého pobytu</label><br>
                    <input type="checkbox" name="pdf-delivery" id="pdf-other-address" style="margin-left: 5px;" v-bind:checked="userData.delivery.value=='other-address'">
                        <label for="pdf-other-address">žádám zaslat na jinou adresu: </label>
                            <span v-if="userData.delivery.value=='other-address' && userData.deliveryAddress.fullName.value">{{userData.deliveryAddress.fullName.value +', '}}</span>
                            <span v-if="userData.delivery.value=='other-address' && userData.deliveryAddress.addressLine0.value">{{userData.deliveryAddress.addressLine0.value +', '}}</span>
                            <span v-if="userData.delivery.value=='other-address' && userData.deliveryAddress.addressLine1.value">{{userData.deliveryAddress.addressLine1.value +', '}}</span>
                            <span v-if="userData.delivery.value=='other-address' && userData.deliveryAddress.postalCode.value">{{userData.deliveryAddress.postalCode.value +' '}}</span>
                            <span v-if="userData.delivery.value=='other-address' && userData.deliveryAddress.city.value">{{userData.deliveryAddress.city.value +', '}}</span>
                            <span v-if="userData.delivery.value=='other-address' && userData.deliveryAddress.country.value">{{userData.deliveryAddress.country.value}}</span>
                </p>
                <p style="width: 250px; margin-left: 330px; padding: 15px 10px 15px 10px; margin-right: 10px; text-align: center;">………………………………………<br>
                    podpis voliče - žadatele</p>
                <p style="padding: 20px 5px 10px 5px;">
                    <strong>VOLIČSKÝ PRŮKAZ PŘEVZAL VOLIČ OSOBNĚ DNE:</strong> ……………………………..
                </p>
            </div>
        </div>
    </div>

    <script>
        const routes = [
            { path: '/cr-cr' },
            { path: '/cr-eu' },
            { path: '/eu-cr' },
            { path: '/form' },
            { path: '/preview' },
            { path: '/en/form' },
            { path: '/en/preview' }
        ];
        const paths = routes.map(function (route) { return route.path })
        const router = new VueRouter({
            routes: routes,
            scrollBehavior: function(to, from, savedPosition) {
                if (to.hash) {
                    const position = {}
                    position.selector = to.hash
                    position.offset = { y:20 }
                    return position
                } else {
                    return {x: 0, y: 0}
                }
            },
        });
        router.beforeEach(function (to, from, next) {
            if (paths.indexOf(to.path) == -1) {
                next({ path: '/cr-cr', replace: true });
            } else next();
        })
        Vue.filter('dateCZ', function(dateString) {
            const date = moment(dateString);
            return date.isValid() ? date.format('D. M. YYYY') : "";
        });

        function getDefaultDataObject(nullable, valid) {
            return {
                value: null,
                valid: valid,
                nullable: nullable
            }
        };
        function getDefaultNotNullableValidDataObject() {
            return getDefaultDataObject(false, true)
        };


        function getDefaultUserData() {
            return {
                municipality: {
                    name: getDefaultNotNullableValidDataObject(),
                    addressLine1: getDefaultNotNullableValidDataObject(),
                    postalCode: getDefaultNotNullableValidDataObject(),
                    city: getDefaultNotNullableValidDataObject(),
                    databox: getDefaultNotNullableValidDataObject()
                },
                fullName: getDefaultNotNullableValidDataObject(),
                birthdate: getDefaultNotNullableValidDataObject(),
                phone: getDefaultDataObject(true, true),
                addressLine1: getDefaultNotNullableValidDataObject(),
                postalCode: getDefaultNotNullableValidDataObject(),
                city: getDefaultNotNullableValidDataObject(),
                delivery: getDefaultDataObject(false, false),   // because delivery method in default state doesn't have selected item 
                deliveryAddress: {
                    fullName: getDefaultNotNullableValidDataObject(),
                    addressLine0: getDefaultDataObject(true, true),
                    addressLine1: getDefaultNotNullableValidDataObject(),
                    postalCode: getDefaultNotNullableValidDataObject(),
                    city: getDefaultNotNullableValidDataObject(),
                    country: getDefaultDataObject(true, true)
                }
            }
        };

        window.app = new Vue({
            router: router,
            el: '#app',
            data: {
                errors: [],
                cities: cities,
                citiesZipName: citiesZipName,
                cs: window.csLang,
                routes: routes,
                overlayVisible: false,
                userData: getDefaultUserData(),

                validatiors: {
                    fullName: { pattern: /^.{2,}\ .{2,}$/ },
                    bday: function (bday) {
                        // birthday must be between 1.1.1900 and last vote day (25.5.2019) minus 18 years
                        return bday >= new Date(1900, 0, 1) && bday <= new Date(2001, 4, 25);
                    },
                    tel: { pattern: /^(\+?[0-9 \-\.]{9,})?$/ },
                    line1: { pattern: /^(.*[^0-9]+) (([1-9][0-9]*)\/)?([1-9][0-9]*[a-cA-C]?)$/ },
                    postalCode: { pattern: /^[1-7][0-9]{4}$/ },
                    locality: { pattern: /^.{2,40}$/ },
                    officeName: { pattern: /^.{2,40}$/ },
                    delivery: { pattern: /^\S+$/ }
                }
            },
            methods: {
                validateObject: function (obj) {
                    for (var userProp in obj) {
                        if (obj[userProp] !== null && typeof obj[userProp].nullable !== 'undefined' && !obj[userProp].nullable && obj[userProp].value == null) {
                            obj[userProp].value = '';
                            obj[userProp].valid = false;
                        }

                        if (obj[userProp] !== null && typeof obj[userProp].valid !== 'undefined' && !obj[userProp].valid) {
                            this.errors.push('Položka [' + userProp + '] není správně vyplněna');
                        }
                    }
                },
                validateForm: function (e) {
                    this.errors = [];

                    this.validateObject(this.userData);
                    this.validateObject(this.userData.municipality);

                    if (this.userData.delivery.value=='other-address') {
                        this.validateObject(this.userData.deliveryAddress);
                    };

                    if (this.errors.length > 0 && !confirm("Formulář zřejmě není správně vyplněn, pokračovat?")) e.preventDefault();
                },
                zipCleared: function () {
                this.userData.city = getDefaultUserData();
                this.userData.postalCode = getDefaultUserData();
                },
                zipSelected: function (result) {
                    this.userData.city.value = result.selectedObject.name;
                    this.userData.city.valid = true;
                    this.userData.postalCode.value = result.selectedObject.zip;
                    this.userData.postalCode.valid = true;

                    /*
                     * search priority:
                     * 1) town_district_code && city_code
                     * 2) town_district_code
                     * 3) city_code
                     * 4) zip
                     *
                     * multiple "flat if" (not nested) is for better readability
                     */

                    var selectedCity;

                    if (typeof result.selectedObject.town_district_code !== undefined && result.selectedObject.town_district_code != null && typeof result.selectedObject.city_code !== undefined && result.selectedObject.city_code != null) {
                        selectedCity = cities.find(function (cities) { return cities.town_district_code == result.selectedObject.town_district_code && cities.city_code == result.selectedObject.city_code; });
                    }
                    if (typeof selectedCity == 'undefined' && typeof result.selectedObject.town_district_code !== undefined && result.selectedObject.town_district_code != null) {
                        selectedCity = cities.find(function (cities) { return cities.town_district_code == result.selectedObject.town_district_code; });
                    }
                    if (typeof selectedCity == 'undefined' && typeof result.selectedObject.city_code !== undefined && result.selectedObject.city_code != null) {
                        selectedCity = cities.find(function (cities) { return cities.city_code == result.selectedObject.city_code; });
                    }
                    if (typeof selectedCity == 'undefined' && typeof result.selectedObject.zip !== undefined &&  result.selectedObject.zip != null) {
                        selectedCity = cities.find(function (cities) { return cities.zip == result.selectedObject.zip; });
                    }

                    if (typeof selectedCity !== 'undefined') {
                        this.userData.municipality.city.value = selectedCity.city;
                        this.userData.municipality.city.valid = true;
                        this.userData.municipality.postalCode.value = selectedCity.zip;
                        this.userData.municipality.postalCode.valid = true;
                        this.userData.municipality.name.value = selectedCity.name;
                        this.userData.municipality.name.valid = true;
                        this.userData.municipality.addressLine1.value = (selectedCity.street ? selectedCity.street : selectedCity.city) + ' ' + selectedCity.houseNumber;
                        this.userData.municipality.addressLine1.valid = true;
                        this.userData.municipality.databox.value = selectedCity.databox;
                        this.userData.municipality.databox.valid = true;
                    }
                    else {  // not found - clearing values and only set known values (from search condition)
                        this.userData.municipality.city.value = result.selectedObject.name;
                        this.userData.municipality.city.valid = true;
                        this.userData.municipality.postalCode.value = result.selectedObject.zip;
                        this.userData.municipality.postalCode.valid = true;

                        this.userData.municipality.name = getDefaultNotNullableValidDataObject();
                        this.userData.municipality.addressLine1 = getDefaultNotNullableValidDataObject();
                        this.userData.municipality.databox = getDefaultNotNullableValidDataObject();
                    }
                },
                birthdateSelected: function(result) {
                    // this.userData.birthdate = result;
                    this.validate('bday', this.userData.birthdate);
                },
                csDateFormat: function(date) {
                    return moment(date).format('D. M. YYYY');
                },
                csDateParse: function(dateString) {
                    return moment(dateString, 'DD-MM-YYYY').toDate();
                },
                validate: function (field, data) {
                    data.valid = false;
                    if (data.value === undefined || (data.value === null && data.nullable) || this.validatiors[field] === undefined ) {
                        data.valid = true;
                        return data.valid;
                    }

                    if (typeof (this.validatiors[field]) === 'function') {
                        data.valid = this.validatiors[field](data.value);
                    }
                    else {
                        if (this.validatiors[field].pattern === undefined) {
                            data.valid = true;
                        }
                        else {
                            data.valid = this.validatiors[field].pattern.test(data.value);
                        }
                    }
                    return data.valid;
                },

                validateBorder: function (data) {
                    //has-success
                    return data.valid ? '' : 'has-error';
                },
                validateIcon: function (data) {
                    // glyphicon-ok
                    return data.valid ? '' : 'glyphicon-remove';
                },

                generatePreviewfinished: function() {
                    var imageData = this.worker.prop.img.src;
                    document.querySelector('.preview-wrapper img').src=imageData;
                    document.querySelector('#overlay img').src=imageData;
                },
                generatePreview: function() {
                    var element = document.getElementById('document-to-print-cr');
                    var opt = {};
                    this.worker = html2pdf().from(element).toImg('datauristring',opt).then(this.generatePreviewfinished);
                },
                showOverlay: function() {
                    this.overlayVisible = !this.overlayVisible;
                },
                downloadPdf: function() {
                    var element = document.getElementById('document-to-print-cr');
                    html2pdf().from(element).set({
                        margin: 1,
                        filename: 'Zadost-Volicsky-Prukaz-EU2019-CR.pdf',
                        html2canvas: { scale: 2 },
                        jsPDF: {orientation: 'portrait', unit: 'in', format: 'letter', compressPDF: true}
                    }).save();
                },
                clearForm: function(text, bypass) {
                    if (bypass || confirm(text)) {
                        this.$refs.autocompleteZIP.clear();
                        this.$data.userData = getDefaultUserData();
                    }
                },
            },
            components: {
                vuejsDatepicker: vuejsDatepicker,
                'autocomplete': this['vuejs-autocomplete']
            }
        });
    </script>

    <style>
        #app {
            background-color: white;
        }

        .body {
            margin-left: auto;
            margin-right: auto;
            max-width: 1170px;
        }

        .pane {
            padding: 15px;
            margin: 0px;
            position: relative;
            top: -1em;
        }

        .pane h2, .pane div.form-group > h2 {
            font-weight: 600;
            padding-top: 40px;
            clear: both;
        }

        .pane p.new-p {
            color: #757575;
            font-size: 18px;
            font-weight: 300;
        }

        .pane ul.new-p .emphasized {
            font-style: normal;
            line-height: 2em;
        }

        .pane ul.new-p {
            color:#38CAAA;
            font-weight: 300;
        }

        .pane ul.new-p li span {
            color: #757575;
        }

        .header__title strong {
            color: white;
            font-weight: normal;
        }

        .header__title {
            text-align: center;
        }

        .header__title span a {
            font-size: 16px;
            color: white;
            text-decoration: none;
        }
        .header__content .header__title span a:hover, .header__content .header__title span a:active, .header__content .header__title span a:focus {
            color: #E0E6ED;    
            text-decoration: underline;
        }

        #navigation {
            width: 80%;
            max-width: 1300px;
            margin-top: 50px;
            margin-bottom: 50px;
        }

        #navigation ul {
            list-style-type: none;
            list-style-type: none;
            padding: 0px;
        }

        #navigation ul li {
            display: inline-block;
            text-align: center;
        }

        #navigation ul a {
            width: 100%;
            border: 1px solid white;
            border-radius: 4px;
            padding: 20px 30px;
            margin: 5px 0px;
            color: white;
            font-size: 1.2em;
            display: inline-block;
        }

        #navigation ul li.active a {
            background-color: white;
            color: #0074E4;
        }

        .error-list {
            color: red;
        }

        .form .form-group {
            margin-bottom: 0px;
            position: relative;
        }

        .form .left {
            position: absolute;
            left: 0px;
            top: 30px;
        }

        .form .left img.idcard {
            margin-top: 10px;
        }

        .form h2, .form .right {
            padding-left: 100px;
        }

        .form .row {
            margin-bottom: 20px;
            color: #757575;
            font-size: 18px;
        }

        .form label {
            font-weight: 300;
        }

        .form .radios label {
            font-size: 18px;
            line-height: 26px;
            white-space:normal;
            margin-right: 10px;
        }

        .form input[type="radio"] {
            margin-right: 5px;
            vertical-align: top;
        }

        .form label.optional {
            font-size: small;
            position: absolute;
            right: 15px;
        }

        .has-feedback label~.form-control-feedback  {
            top: 38px;
            right: 15px;
        }

        #preview .btn-default,#en-preview .btn-default {
            margin-left: 5px;
        }

        #preview p, #en-preview p {
            color: #757575;
            font-size: 16px;
            font-weight: 300;
        }

        #preview strong, #en-preview strong {
            color: black;
        }

        .preview-wrapper {
            display: block;
            float: right;
            box-shadow: 0 2px 20px lightgray;
            margin: 20px 40px;
            margin-top: -50px;
            padding: 10px;
        }

        .preview-wrapper:hover {
            cursor: pointer;
            box-shadow: 0 2px 20px lightblue;
        }

        .preview-wrapper img {
            width: 400px;
        }

        #overlay {
            position: absolute;
            top: 300px;
            left: 50%;
            margin-left: -400px;
            box-shadow: 0 2px 20px lightgray;
            padding: 20px;
            background-color: white;
        }
        #overlay img {
            width: 800px;
        }

         #document-template { 
             display: none;
         }

        .autocomplete__results {
            width: 150%;
        }

        .btn-primary-new{
            margin-right: 20px;
        }

        .radios {
            margin: 10px 0px;
        }

        .radios .button-group {
            white-space:nowrap;
        }

        .preview-buttons .btn{
            margin: 0px 10px;
        }

        @media (max-width: 767px) {
            .btn-primary-new{
            margin-right: 0px;
            }
            
            .form .left {
                display:none;
            }
            
            .form .right {
                padding-left: 0px;
            }

            .form h2 {
                padding-left: 0px;
                font-size: 18px;
                line-height: 18 px;
            }
            
            #navigation {
                width: 100%;
            }

            .preview-buttons .btn {
                margin: 5px 0px;
            }
        }

        @media (max-width: 1024px) {
            .preview-buttons .btn {
               padding: 0px 0px;
            }
        }

        .pageA4 {
            width: 600px;
            /*width: 794px;
            height: 1122px;*/
            border: 0px;
            padding: 0px;
            margin: 0px;
            position: relative;
        }
    </style>

    <script>
        const displayVersionLength = 7; // show first 7 chars (like GitHub)
        const appVersionFile = 'assets/files/appversion.txt';   // file with SHA1 GitHub hash

        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function() { 
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
                displayAppVersion(xmlHttp.responseText);
            }
        }
        xmlHttp.open("GET", appVersionFile, true); 
        xmlHttp.send();

        function displayAppVersion(retrievedText) { 
            retrievedText = retrievedText.trim();

            if (retrievedText.match('^[0-9a-fA-F]{5,40}$')) {   // SHA1 regex pattern
                document.getElementById('appVersion').textContent = retrievedText.substring(0, ((retrievedText.lenght < displayVersionLength) ? retrievedText.lenght : displayVersionLength));  
            }
        }
    </script>
    
    <footer>
        <div class="container">
            <ul class="list-inline">
                <li><a href="https://www.hlidacstatu.cz/texty/vize">Vize Hlídače Státu</a></li>
                <li><a href="https://www.hlidacstatu.cz/texty/O-Registru">O registru smluv</a></li>
                <li><a href="https://www.hlidacstatu.cz/texty/kontakt">Kontakt</a></li>
                <li><a href="https://www.darujme.cz/projekt/1200384" onclick="return trackOutLink(this,'footer');"><span style="color:red;">Finanční podpora</span></a></li>
                <li><a href="https://www.HlidacStatu.cz/api">API a opendata pro vývojáře</a></li>
            </ul>
            <p>
                &copy; Hlídač Státu z.ú. & Michal Bláha.
                Převzetí údajů a použití dat možné pod <a href="https://www.hlidacstatu.cz/texty/licence">licencí CC BY 3.0</a> anebo po vzájemné <a href="https://www.hlidacstatu.cz/texty/kontakt/">písemné dohodě</a>.
                <a href="https://www.HlidacStatu.cz/texty/provoznipodminky">Podmínky užívání</a>
            </p>
            <p>
                Verze aplikace: <span id="appVersion"></span>
            </p>
        </div>
    </footer>

    <div id="dar-footer-msg">

        <div id="ad1">
            <div class="fund-list grey" style="display: block;">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-10 col-xs-12">
                            <p class="small">
                                Pokud vás zaujme nějaký dokument, profil firmy, výsledek hledání či prakticky jakýkoliv údaj na Hlídači,
                                <b>nemusíte si ho pamatovat</b>. Stačí si ho uložit do záložek a my si to zapamatujeme za vás.
                            </p>
                            <p class="small">
                                Uložení záložky je snadné, stačí kliknout na ikonu  <a style="font-size:120%" href="#" class="bookmark bookmarkOff" onclick="javascript:return false;"></a>.
                                Pokud už je konkrétní záložka vytvořená, pak je vybarvena červeně <a style="font-size:120%" href="#" class="bookmark bookmarkOn" onclick="javascript:return false;"></a>.
                            </p>
                        </div>
                        <div class="col-sm-2 col-xs-12">
                            <a style="margin-top:15px;" class="fund-daruj-btn pull-right text-right" onclick="ga('send', 'event', 'darujAdFooter', 'daruj-btn', '1'); return false;" id="fund-daruj-btn" target="_blank" href="#">Chápu, díky!</a>
                        </div>
                        <div class="fund-zavri">
                            <a id="fund-info-btn" onclick="ga('send', 'event', 'darujAdFooter', 'viceinfo', '1');" target="_blank" href="https://www.hlidacstatu.cz/texty/zalozky-si-za-vas-zapamatuji-vse-co-potrebujete/">Více informací</a>
                            <a id="fund-zavri-btn" onclick="ga('send', 'event', 'darujAdFooter', 'zavri', '1');" style="margin-left:30px;color:#ff5900" href="#"><span class="glyphicon glyphicon-remove"></span></a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <noscript>
            <style>
                #dar-footer-msg {
                    display: none;
                }
            </style>
        </noscript>
    </div>


    <div id="bookmarkInfoAnon" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Záložky</h4>
                </div>
                <div class="modal-body">
                    <p>
                        Pokud vás zaujme nějaký dokument, profil firmy, výsledek hledání či prakticky jakýkoliv údaj na Hlídači,
                        <b>nemusíte si ho pamatovat</b>. Stačí si ho uložit do záložek a my si to zapamatujeme za vás.
                    </p>
                    <p>
                        Uložení záložky je snadné, stačí kliknout na ikonu  <a style="font-size:120%" href="#" class="bookmark bookmarkOff" onclick="javascript:return false;"></a>.
                        Pokud už je konkrétní záložka vytvořená, pak je vybarvena červeně <a style="font-size:120%" href="#" class="bookmark bookmarkOn" onclick="javascript:return false;"></a>.
                    </p>
                    <p>Abychom ale vědeli, komu jaké záložky patří, <a href="https://www.hlidacstatu.cz/account/login" class="btn btn-default">musíte se zalogovat</a>.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Zavřít</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

</body>

</html>
